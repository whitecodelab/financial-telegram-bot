# categories.py

# Словарь для автоматического определения категорий по ключевым словам
CATEGORIES = {
    'еда': ['еда', 'продукты', 'магазин', 'супермаркет', 'молоко', 'хлеб', 'мясо', 'рыба', 'овощи', 'фрукты'],
    'транспорт': ['транспорт', 'бензин', 'такси', 'метро', 'автобус', 'заправка', 'проезд'],
    'развлечения': ['развлечения', 'кино', 'ресторан', 'кафе', 'бар', 'концерт', 'хобби'],
    'коммуналка': ['коммуналка', 'квартплата', 'электричество', 'вода', 'газ', 'интернет', 'телефон'],
    'здоровье': ['здоровье', 'аптека', 'врач', 'больница', 'лекарства', 'стоматолог'],
    'одежда': ['одежда', 'обувь', 'магазин одежды', 'покупки'],
    'дети': ['дети', 'школа', 'садик', 'кружки', 'игрушки', 'обучение'],
    'другое': ['другое', 'прочее']
}

def detect_category(description):
    """Определяет категорию по описанию операции"""
    description_lower = description.lower()
    
    for category, keywords in CATEGORIES.items():
        for keyword in keywords:
            if keyword in description_lower:
                return category
    
    return 'другое'  # Категория по умолчанию